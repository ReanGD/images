## Описание

Образ PostgreSQL основанный на [bitnami-docker-postgresql v14.1.0](https://github.com/bitnami/bitnami-docker-postgresql), плюс бекап на базе [wal-g](https://github.com/wal-g/wal-g).

## Дополнительные переменные

- WALG_COMPRESSION_METHOD - метод компрессии для бекапов (по умолчанию brotli)
- WALG_DELTA_MAX_STEPS - сколько дельта копий создавать после создания полного бекапа (по умолчанию 6)
- WALG_BACKUP_TIME - во сколько делать бекап в формате cron (по умолчанию в 6:00)
- WALG_BACKUP_DEL_RETAIN - сколько полных копий бекапа (и всех промежуточных) оставлять (по умолчанию 4), удаление "лишних" бекапов производится после каждой процедуры бекапа
- POSTGRESQL_ARCHIVE_TIMEOUT - это переменная окружения для выставления "archive_timeout" в postgresql.conf (по умолчанию 600) измеряется в секундах

## Восстановление

Если директория "data" пустая и директория с бекапами не пустая - то автоматически попытаемся восстановить последнюю резервную копию.
